const net = new brain.NeuralNetwork();

const data = [{ "input": { "r": 0, "g": 0, "b": 0 }, "output": [1] }, { "input": { "r": 1, "g": 1, "b": 1 }, "output": [0] }, { "input": { "r": 0.917893390273903, "g": 0.004928358660042154, "b": 0.7655632683353275 }, "output": [0] }, { "input": { "r": 0.6902796561176101, "g": 0.4647691276458885, "b": 0.029254645662933232 }, "output": [0] }, { "input": { "r": 0.6499328426577966, "g": 0.032970864988469684, "b": 0.2858425263504374 }, "output": [0] }, { "input": { "r": 0.1310699436904974, "g": 0.5158296733505419, "b": 0.762651372115053 }, "output": [0] }, { "input": { "r": 0.6876579482232992, "g": 0.011454873648819142, "b": 0.7083584106045353 }, "output": [1] }, { "input": { "r": 0.1686521305616404, "g": 0.06359428830509084, "b": 0.5083908705537743 }, "output": [1] }, { "input": { "r": 0.29405532458108596, "g": 0.8671627140662841, "b": 0.748765249311039 }, "output": [1] }, { "input": { "r": 0.40088105431892584, "g": 0.6637269784211961, "b": 0.07996223643231426 }, "output": [1] }, { "input": { "r": 0.015814390787134203, "g": 0.18642809977932373, "b": 0.7686791343105241 }, "output": [1] }, { "input": { "r": 0.31616982608297906, "g": 0.7950380294340682, "b": 0.9611826452442116 }, "output": [1] }, { "input": { "r": 0.2694590657135221, "g": 0.6995525369401128, "b": 0.6425487192187627 }, "output": [1] }, { "input": { "r": 0.779595710789043, "g": 0.9333089054578341, "b": 0.13409793896956157 }, "output": [0] }, { "input": { "r": 0.4385503218470044, "g": 0.2804138762184487, "b": 0.6546604112266552 }, "output": [0] }, { "input": { "r": 0.04492103081684351, "g": 0.3620246575552626, "b": 0.17067807744741392 }, "output": [0] }, { "input": { "r": 0.42103041560897214, "g": 0.4764539271162289, "b": 0.08472621790283519 }, "output": [0] }, { "input": { "r": 0.8770594060456265, "g": 0.9196785829374046, "b": 0.20573101540586514 }, "output": [0] }, { "input": { "r": 0.054141766814649106, "g": 0.6989038640707868, "b": 0.3121955324226444 }, "output": [1] }, { "input": { "r": 0.047293775300840224, "g": 0.6588234805385309, "b": 0.7623236661677348 }, "output": [1] }, { "input": { "r": 0.8528655403539711, "g": 0.19336857318256362, "b": 0.7730241036940877 }, "output": [1] }, { "input": { "r": 0.3309843097220784, "g": 0.46593569502929033, "b": 0.24315167859422582 }, "output": [1] }, { "input": { "r": 0.9729832040283535, "g": 0.8180248840947886, "b": 0.26384179850776635 }, "output": [1] }, { "input": { "r": 0.698491588324315, "g": 0.5488150702515704, "b": 0.8637155162634118 }, "output": [0] }, { "input": { "r": 0.8466973945656993, "g": 0.3348158972423836, "b": 0.2705522515861427 }, "output": [0] }, { "input": { "r": 0.25311736027802545, "g": 0.4063375506286435, "b": 0.21463932014647624 }, "output": [0] }, { "input": { "r": 0.6105935288229749, "g": 0.4671814279357098, "b": 0.6950262013044826 }, "output": [0] }, { "input": { "r": 0.050224994629214814, "g": 0.5542898405457908, "b": 0.1025224453784579 }, "output": [0] }, { "input": { "r": 0.1015269226172224, "g": 0.03805053722849894, "b": 0.01379621950066956 }, "output": [1] }, { "input": { "r": 0.7494090450578046, "g": 0.5496657122418551, "b": 0.3233195998085019 }, "output": [1] }, { "input": { "r": 0.44909544871997875, "g": 0.9270961048982969, "b": 0.8186369306417851 }, "output": [1] }, { "input": { "r": 0.36244837942183183, "g": 0.5955863097392806, "b": 0.2462743500846427 }, "output": [1] }, { "input": { "r": 0.4758300626347265, "g": 0.7015323589213753, "b": 0.9891293307001747 }, "output": [0] }, { "input": { "r": 0.9187452372040044, "g": 0.8184047674431381, "b": 0.398856683014849 }, "output": [0] }, { "input": { "r": 0.41435192411004595, "g": 0.36413208453140355, "b": 0.7127775556250071 }, "output": [1] }, { "input": { "r": 0.77736344016451, "g": 0.17172877237237127, "b": 0.10645067306006295 }, "output": [0] }, { "input": { "r": 0.8274022207597991, "g": 0.516366517462336, "b": 0.3073718665691467 }, "output": [1] }, { "input": { "r": 0.21071505520099287, "g": 0.3958287378985852, "b": 0.052501722159911335 }, "output": [1] }, { "input": { "r": 0.35601761332876647, "g": 0.6123482932194437, "b": 0.7221774454262604 }, "output": [0] }]

net.train(data)


const colorElement = document.querySelector('#colors');
const guessElement = document.querySelector('#guess');
const whiteButton = document.querySelector('#white-button');
const blackButton = document.querySelector('#black-button');
const printButton = document.querySelector('#print-button');

let color;

setRandomColor();

whiteButton.addEventListener('click', () => {
    chooseColor(1)
})
blackButton.addEventListener('click', () => {
    chooseColor(0)
})

printButton.addEventListener('click', print)

function chooseColor(value) {
    data.push({
        input: color,
        output: [value]
    })
    setRandomColor()
}

function print() {
    console.log(JSON.stringify(data))
}

function setRandomColor() {
    color = {
        r: Math.random(),
        g: Math.random(),
        b: Math.random()
    }
    const guess = net.run(color)[0]
    guessElement.style.color =
        guess > .5 ? '#FFF' : '#000'
    colorElement.style.backgroundColor =
        `rgba(${color.r * 255}, ${color.g * 255}, ${color.b * 255})`
}